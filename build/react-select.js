!function(e){function t(s){if(n[s])return n[s].exports;var i=n[s]={exports:{},id:s,loaded:!1};return e[s].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}}();Object.defineProperty(t,"__esModule",{value:!0});var l=n(1),p=s(l),c=n(2),d=s(c),f=n(3),h=s(f),y=n(5),m=s(y),b=n(6),v=s(b),g=n(7),O=s(g),k=function(e){function t(e){i(this,t);var n=a(this,Object.getPrototypeOf(t).call(this,e));return n.selected=n.dealSelected(e.selected,!0),n.created=e.created,n.state={isFocused:e.isFocused,isLoading:e.isOpen,inputValue:""},n.created=[],n.selected=[],n.mounted=!1,n}return o(t,e),u(t,[{key:"componentWillReceiveProps",value:function(e){this.forceUpdate()}},{key:"dealSelected",value:function(e,t){var n=[];return e.forEach(function(e,s){if("number"==typeof e)e%=this.props.options.length,n.push(t?e:this.props.options[e]);else if("object"===("undefined"==typeof e?"undefined":r(e))){var i=this.props.options.indexOf(e);-1!==i&&n.push(t?i:e)}},this),n}},{key:"renderMenu",value:function(e){var t=[];return this.props.options.forEach(function(n,s){var i=this;-1!==this.selected.indexOf(s)||e.length&&!this.props.match(n,s,e)||t.push(p["default"].createElement("div",{className:O["default"]+"option",key:s,onClick:function(e){e.stopPropagation(),e.preventDefault(),i.props.disabled||(i.props.multi?i.selected.push(s):i.selected=[s],i.setState({inputValue:""}),i.dealChange())}},this.props.menu(n,s)))},this),p["default"].createElement("div",{className:O["default"]+"menu-outer"},p["default"].createElement("div",{className:O["default"]+"menu"},t.length?t:this.state.inputValue.length?p["default"].createElement("div",{className:O["default"]+"noresults"},this.props.noneMatchPrompt):null))}},{key:"inputFocus",value:function(e){e.stopPropagation(),e.preventDefault(),this.props.disabled||(this.props.searchable?this.refs.input.focus():this.setState({isFocused:this.props.searchable,isOpen:!0},this.bindOutside))}},{key:"renderItems",value:function(){var e=this,t=function(t,n,s){s.stopPropagation(),s.preventDefault(),e.props.disabled||(e[t].splice(n,1),e.forceUpdate(),e.dealChange())},n=this.selected.map(function(e,n){var s=this.props.options[e];return p["default"].createElement("div",{className:O["default"]+"item",key:n,onClick:this.inputFocus.bind(this)},p["default"].createElement("span",{className:O["default"]+"item-icon",onClick:t.bind(this,"selected",n)},"×"),p["default"].createElement("span",{className:O["default"]+"item-label"},this.props.item(s)))},this),s=this.created.map(function(e,n){return p["default"].createElement("div",{className:O["default"]+"item",key:n,onClick:this.inputFocus.bind(this)},p["default"].createElement("span",{className:O["default"]+"item-icon",onClick:t.bind(this,"created",n)},"×"),p["default"].createElement("span",{className:O["default"]+"item-label"},this.props.item(e)))},this);return n.concat(s)}},{key:"dealChange",value:function(){this.props.onChange(JSON.parse(JSON.stringify(this.dealSelected(this.selected))),JSON.parse(JSON.stringify(this.created)))}},{key:"closeMenuIfClickedOutside",value:function(e){if(this.state.isOpen&&m["default"].isOutside([d["default"].findDOMNode(this.refs.wrapper)],e)){if(!this.mounted)return;this.setState({isOpen:!1},this.unbindOutside.bind(this))}}},{key:"bindOutside",value:function(){m["default"].on("click",this.closeMenuIfClickedOutside.bind(this))}},{key:"unbindOutside",value:function(){m["default"].off("click",this.closeMenuIfClickedOutside.bind(this))}},{key:"componentDidMount",value:function(){this.mounted=!0}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"renderInput",value:function(){var e=this;return p["default"].createElement(h["default"],{value:this.state.inputValue,ref:"input",onChange:function(t){if(!e.props.disabled){t.target.value;e.setState({inputValue:d["default"].findDOMNode(e.refs.input.refs.input).value})}},onFocus:function(){e.setState({isFocused:!0,isOpen:!0},e.bindOutside)},onBlur:function(){e.state.inputValue.length||e.setState({isFocused:!1})},className:O["default"]+"input",tabIndex:this.props.tabIndex,minWidth:"5"})}},{key:"renderDummyInput",value:function(){return p["default"].createElement("div",{ref:"input",className:O["default"]+"input",onClick:this.inputFocus.bind(this),style:{display:"inline-block"}}," ")}},{key:"renderHolder",value:function(e){return e=e||this.props.placeholderPrompt,p["default"].createElement("div",{className:O["default"]+"placeholder",onClick:this.inputFocus.bind(this),dangerouslySetInnerHTML:{__html:e}})}},{key:"clearValue",value:function(e){e.stopPropagation(),e.preventDefault(),this.props.disabled||(this.selected=[],this.created=[],this.setState({inputValue:""}),this.dealChange())}},{key:"menuToggle",value:function(e){e.stopPropagation(),e.preventDefault(),this.props.disabled||this.setState({isOpen:!this.state.isOpen})}},{key:"handleKeyDown",value:function(e){if(!this.props.disabled){switch(e.keyCode){case 8:return void(this.state.inputValue.length||(this.selected.splice(this.selected.length-1,1),this.forceUpdate()));case 9:if(e.shiftKey||!self.state.isOpen||!self.state.focusedOption)return;break;case 13:if(!this.state.isOpen)return;break;case 27:this.state.isFocused&&this.clearValue.bind(this,e);break;case 38:this.state.isFocused;break;case 40:this.state.isFocused;break;case 188:if(!(this.state.isFocused&&this.props.allowCreate&&this.props.multi))return;e.preventDefault(),e.stopPropagation();break;default:return}e.preventDefault()}}},{key:"render",value:function(){var e,t=this.selected.length+this.created.length,n=(0,v["default"])("select",this.props.className,{"is-multi":this.props.multi&&t,"is-searchable":this.props.searchable,"is-open":this.state.isOpen,"is-focused":this.state.isFocused,"is-loading":this.state.isLoading,"is-disabled":this.props.disabled,"has-value":this.selected.length+this.created.length}),s=this.props.searchable?this.renderInput():this.renderDummyInput(),i=t||this.state.inputValue.length?null:this.renderHolder(),a=p["default"].createElement("span",{className:O["default"]+"arrow",onClick:this.menuToggle.bind(this)}),o=t?p["default"].createElement("span",{className:O["default"]+"clear",onClick:this.clearValue.bind(this)},"×"):null;if(this.props.multi)e=t?this.renderItems():null;else{var r=this.selected.length?this.props.item(this.props.options[this.selected[0]]):this.created.length?this.props.item(this.props.options[this.created[0]]):null;e=t?this.renderHolder(this.state.inputValue.length?"&nbsp;":r):null}return p["default"].createElement("div",{className:n,ref:"wrapper"},p["default"].createElement("div",{className:O["default"]+"control",onClick:this.inputFocus.bind(this),onKeyDown:this.handleKeyDown.bind(this)},e,s,i,a,o),this.state.isOpen?this.renderMenu(this.state.inputValue):null)}},{key:"mounted",set:function(e){this._mounted=e},get:function(){return this._mounted}},{key:"created",set:function(e){this._created=e},get:function(){return this._created}},{key:"selected",set:function(e){this._selected=e},get:function(){return this._selected}},{key:"options",set:function(e){this._options=e},get:function(){return this._options}}]),t}(l.Component);t["default"]=k,k.displayName="Select",k.propTypes={isFocused:p["default"].PropTypes.bool,isOpen:p["default"].PropTypes.bool,searchable:p["default"].PropTypes.bool,disabled:p["default"].PropTypes.bool,multi:p["default"].PropTypes.bool,menu:p["default"].PropTypes.func,match:p["default"].PropTypes.func,item:p["default"].PropTypes.func,options:p["default"].PropTypes.array,selected:p["default"].PropTypes.array,created:p["default"].PropTypes.array,onChange:p["default"].PropTypes.func,placeholderPrompt:p["default"].PropTypes.string,noneMatchPrompt:p["default"].PropTypes.string,tabIndex:p["default"].PropTypes.number},k.defaultProps={menu:function(e,t){return e.label},match:function(e,t,n){return-1!==e.label.indexOf(n)||-1!==e.value.indexOf(n)},item:function(e){return e.label},isFocused:!1,isOpen:!1,searchable:!0,multi:!0,disabled:!1,options:[],selected:[],created:[],placeholderPrompt:"请选择...",noneMatchPrompt:"没有查找结果",tabIndex:0},window.Select=k},function(e,t){e.exports=React},function(e,t){e.exports=ReactDOM},function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}}();Object.defineProperty(t,"__esModule",{value:!0});var l=n(1),p=s(l),c=n(4),d=s(c),f={position:"absolute",visibility:"hidden",height:0,width:0,overflow:"scroll",whiteSpace:"nowrap"},h="input",y="sizer",m="placeholder",b=function(e){function t(e){i(this,t);var n=a(this,Object.getPrototypeOf(t).call(this,e));return n.state={mounted:!1,inputWidth:e.minWidth},n}return o(t,e),u(t,[{key:"componentDidMount",value:function(){this.setState({mounted:!0}),this.copyInputStyles(),this.updateInputWidth()}},{key:"componentWillUnmount",value:function(){this.setState({mounted:!1})}},{key:"componentDidUpdate",value:function(){this.updateInputWidth()}},{key:"copyInputStyles",value:function(){if(this.state.mounted&&window.getComputedStyle){var e=window.getComputedStyle((0,d["default"])(this,h)),t=e.fontSize,n=e.fontFamily,s=(0,d["default"])(this,y);if(Object.assign(s.style,{fontSize:t,fontFamily:n}),this.props.placeholder){var i=(0,d["default"])(this,m);Object.assign(i.style,{fontSize:t,fontFamily:n})}}}},{key:"updateInputWidth",value:function(){if(this.state.mounted&&"undefined"!=typeof(0,d["default"])(this,y).scrollWidth){var e=void 0;e=this.props.placeholder?Math.max((0,d["default"])(this,y).scrollWidth,(0,d["default"])(this,m).scrollWidth)+2:(0,d["default"])(this,y).scrollWidth+2,e<this.props.minWidth&&(e=this.props.minWidth),e!==this.state.inputWidth&&this.setState({inputWidth:e})}}},{key:"focus",value:function(){(0,d["default"])(this,h).focus()}},{key:"select",value:function(){(0,d["default"])(this,h).select()}},{key:"render",value:function(){var e=(this.props.value||"").replace(/\&/g,"&amp;").replace(/ /g,"&nbsp;").replace(/\</g,"&lt;").replace(/\>/g,"&gt;"),t=Object.assign(this.props.style||{},{display:"inline-block"}),n=Object.assign(this.props.inputStyle||{},{width:this.state.inputWidth});return p["default"].createElement("div",{className:this.props.className,style:t},p["default"].createElement("input",r({},this.props,{ref:h,className:this.props.inputClassName,style:n})),p["default"].createElement("div",{ref:y,style:f,dangerouslySetInnerHTML:{__html:e}}),this.props.placeholder?p["default"].createElement("div",{ref:m,style:f},this.props.placeholder):null)}}]),t}(l.Component);t["default"]=b,b.propTypes={value:p["default"].PropTypes.any,defaultValue:p["default"].PropTypes.any,onChange:p["default"].PropTypes.func,style:p["default"].PropTypes.object,className:p["default"].PropTypes.string,minWidth:p["default"].PropTypes.oneOfType([p["default"].PropTypes.number,p["default"].PropTypes.string]),inputStyle:p["default"].PropTypes.object,inputClassName:p["default"].PropTypes.string},b.defaultProps={minWidth:1}},function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e,t){return a["default"].findDOMNode(e.refs[t])};var i=n(2),a=s(i)},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var s=document,i=function a(){n(this,a)};t["default"]=i,i.on=function(e,t){!s.addEventListener&&s.attachEvent?s.attachEvent("on"+e,t):s.addEventListener(e,t)},i.off=function(e,t){!s.removeEventListener&&s.detachEvent?s.detachEvent("on"+e,t):s.removeEventListener(e,t)},i.isOutside=function(e,t){var n=t.target?t.target:t.srcElement;if(null==n.parentElement&&n!=document.body.parentElement)return!1;for(;null!=n;){if(-1!=e.indexOf(n))return!1;n=n.parentElement}return!0}},function(e,t){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var s=function i(){for(var e="",t=0;t<arguments.length;t++){var s=arguments[t];if(s){var a="undefined"==typeof s?"undefined":n(s);if("string"===a||"number"===a)e+=" "+s;else if(Array.isArray(s))e+=" "+i.apply(null,s);else if("object"===a)for(var o in s)s.hasOwnProperty(o)&&s[o]&&(e+=" "+o)}}return e.substr(1)};t["default"]=s},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="select-";t["default"]=n}]);